<!--Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE HTML>
<html lang="en">
<head>
<title>Event Register Form Flat Responsive Widget Template :: w3layouts</title>
<!-- Meta tag Keywords -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Event Register Form Responsive Widget,Login form widgets, Sign up Web forms , Login signup Responsive web form,Flat Pricing table,Flat Drop downs,Registration Forms,News letter Forms,Elements" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false);
function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- Meta tag Keywords -->
<!-- css files -->
<link rel="stylesheet" href="../css/style_register.css" type="text/css" media="all" /> <!-- Style-CSS -->
<link rel="stylesheet" href="../css/font-awesome.css"> <!-- Font-Awesome-Icons-CSS -->
<!-- //css files -->
<!-- js -->
<script type="text/javascript" src="../js/jquery-2.1.4.min.js"></script>
<!-- //js -->
<!--our dynamic	-->
<script>
	$(document).ready(function (){
		$("#submit").click(function () {
			var user = {
				"sid": $("#uid").val(),
				"password": $("#upwd").val(),
				"nickname": $("#unick").val(),
				"phone": $("#uphone").val(),
				"issuper": 0
			}
			// var user = {
			// 	"sid": "2019112222",
			// 	"password": "aaa",
			// 	"nickname": "bbb",
			// 	"phone": "ccc",
			// 	"issuper": 0
			// }
			//var pass1 = document.getElementById("pwd");
			var pass2 = $("#repwd").val();
			var ret = /^\d{5,20}$/;
			if(!ret.test(user.sid)) {
				alert("学号请输入数字！")
				window.location.href = "register.html";
				return
			}
			else if(!ret.test(user.phone)){
				alert("手机号输入错误！")
				window.location.href = "register.html";
				return
			}
			else if(pass2 != user.password){
				alert("密码不一样")
				window.location.href = "register.html";
				return
			}
			else {
				//flas2 = true;

			$.ajax({
				type: "POST",
				url: "/users",
				contentType: "application/json", //必须这样写
				dataType: "json",
				data: JSON.stringify(user),
				success:function (data) {
					alert("注册成功,请登录");
					window.location.href = "login.html";
				}
			})
				}//
		})
	});
</script>
<!--//our dynamic-->
</head>
<body>
<script src="../js/jquery.vide.min.js"></script>
<!-- main -->
<div data-vide-bg="../images/signupbk.png">
<div class="center-container">
<div class="w3ls-header">
	<div class="header-main">
		<h1>注 册</h1>
			<div class="header-left-bottom agileinfo">
				<div>
					<div class="icon1">
						<i class="fa fa-user" aria-hidden="true"></i>
						<input id="unick" type="text" placeholder="昵称" required=""/>
					</div>
					<div class="icon1">
						<i class="fa fa-graduation-cap" aria-hidden="true"></i>
						<input id="uid" type="stunum" placeholder="学号" required=""/>
					</div>
					<div class="icon1">
						<i class="fa fa-phone" aria-hidden="true"></i>	
						<input id="uphone" type="tel" placeholder="手机号" required=""/>
					</div>
					<div class="icon1">
						<i class="fa fa-lock" aria-hidden="true"></i>
						<input id="upwd" type="password" placeholder="密码" required=""/>
					</div>
					<div class="icon1">
						<i class="fa fa-lock" aria-hidden="true"></i>
						<!--<input type="password" placeholder="确认密码" required=""/>-->
						<input id="repwd" type="password" placeholder="确认密码" required=""/>
					</div>
					<div class="bottom">
						<button id="submit" type="submit">注册</button>
					</div>
					<div class="bottom">
						<a href="login.html">返回登录界面 ||</a>
						<a href="index.html">返回商城首页</a>
					</div>
					<div class="bottom">
						
					</div>
				</div>
			</div>
	</div>
</div>
<!--header end here-->
	<!-- copyright start here -->
	<div class="copyright">
		<p> 2022 Shopping sign | Design by CR ZZR WHY</p>
	</div>
	<!--copyright end here-->
</div>
</div>
</body>
</html>